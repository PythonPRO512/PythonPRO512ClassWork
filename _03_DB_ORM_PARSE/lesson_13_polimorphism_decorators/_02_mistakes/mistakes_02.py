"""
Тип ошибки 2: Неправильное применение динамического полиморфизма (например, через __getattr__)

Динамический полиморфизм — это возможность изменять поведение объектов во время выполнения программы.
В Python он реализуется через:

магические методы (__getattr__, __getattribute__, __setattr__);
динамическое создание атрибутов и методов (например, через setattr);
декораторы (например, @property), которые позволяют управлять доступом к атрибутам.

Проблема:
Динамическое разрешение атрибутов (__getattr__, __getattribute__)
может усложнить отладку и привести к неявным ошибкам.

Пример ошибки:
"""


# class DynamicModel:
#     def __getattr__(self, name):
#         print(f"Атрибут {name} не найден, но мы его создали!")
#         value = f"Значение для {name}"
#         setattr(self, name, value)  # Динамически создаём атрибут
#         return value
#
# model = DynamicModel()
# print(model.username)  # Атрибут username не найден, но мы его создали!
# print(model.username)  # Теперь атрибут существует и возвращает "Значение для username"

"""
Решение:
Использовать явные методы или свойства (@property).
@property — это декоратор, который превращает метод в «вычисляемый атрибут».
Преимущества перед __getattr__:

все атрибуты явно объявлены в коде;
можно добавить валидацию, ленивые вычисления, кеширование;
нет риска создать атрибут с опечаткой.
"""

# class DynamicModel:
#     @property
#     def username(self):
#         raise AttributeError("Атрибут username не задан")